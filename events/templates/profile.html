{% extends 'base.html' %}

{% block title %}Perfil do Usuário{% endblock %}

{% block content %}
<h1 class="mt-4">Meu Perfil</h1>
<div class="card my-4">
    <div class="card-header">
        <i class="fas fa-user-circle me-1"></i>
        Informações do Perfil
    </div>
    <div class="card-body">
        <div class="mb-3">
            <label class="form-label fw-bold">Nome de Usuário:</label>
            <p class="form-control-plaintext">{{ user.username }}</p>
        </div>
        <div class="mb-3">
            <label class="form-label fw-bold">Email:</label>
            <p class="form-control-plaintext">{{ user.email }}</p>
        </div>
        <div class="mb-3">
            <label class="form-label fw-bold">Primeiro Nome:</label>
            <p class="form-control-plaintext">{{ user.first_name }}</p>
        </div>
        <div class="mb-3">
            <label class="form-label fw-bold">Último Nome:</label>
            <p class="form-control-plaintext">{{ user.last_name }}</p>
        </div>
        <div class="mb-3">
            <label class="form-label fw-bold">Último Login:</label>
            <p class="form-control-plaintext" data-date='{{user.last_login.isoformat}}'>
                    Nunca acessou
            </p>
        </div>
    </div>
</div>
{% endblock %}
{% block scripts %}
<script>
    const dateElements = document.querySelectorAll('[data-date]')

    {% if user.last_login %}
        dateElements.forEach(element => {
            element.textContent =  formatDate(new Date(element.dataset.date))
         })
    {% endif %}
    
</script>
{%endblock%}